

# דף הגדרות התראות

## מה הבעיה

לחיצה על כרטיסיית "התראות" בהגדרות מנווטת ל-`/alerts` (רשימת ההתראות) במקום להציג הגדרות התראות כמו שהכותרת המשנית מבטיחה: "כללים, תדירות וסוגי התרעות".

## מה נעשה

ניצור דף חדש `/notification-settings` שמציג את ההגדרות האמיתיות מטבלת `settings` בדאטאבייס, ונשנה את הניווט מכרטיסיית "התראות" בהגדרות לדף החדש.

## ההגדרות שיוצגו

בטבלת `settings` כבר קיימים השדות הבאים -- נציג אותם בדף:

1. **סף רגישות ההתראות** (`alert_threshold`) -- סליידר 0-100, ברירת מחדל 70
2. **התראה על מילות טריגר** (`alert_on_trigger_words`) -- מתג Toggle
3. **התראה על אנשי קשר לא מוכרים** (`alert_on_unknown_contacts`) -- מתג Toggle
4. **ניטור פעיל** (`monitoring_enabled`) -- מתג Toggle

כל הגדרה תוצג בכרטיסייה עם אייקון, כותרת, הסבר קצר, ומתג/סליידר.

## מבנה הדף

```
[חזרה להגדרות]

הגדרות התראות
כללים, תדירות וסוגי התרעות

--- בחירת ילד (אם יש יותר מילד אחד) ---

[כרטיסייה: סף רגישות]
  סליידר 0-100 + הסבר

[כרטיסייה: התראה על מילות טריגר]
  מתג + הסבר

[כרטיסייה: התראה על אנשי קשר לא מוכרים]
  מתג + הסבר

[כרטיסייה: ניטור פעיל]
  מתג + הסבר
```

## פירוט טכני

### קבצים חדשים

| קובץ | תיאור |
|-------|--------|
| `src/pages/NotificationSettings.tsx` | דף הגדרות התראות עם שליפה מ-`settings` ועדכון בזמן אמת |

### קבצים שישתנו

| קובץ | שינוי |
|-------|-------|
| `src/pages/Settings.tsx` | שינוי `navigate('/alerts')` ל-`navigate('/notification-settings')` (שורה 70) |
| `src/App.tsx` | הוספת Route חדש `/notification-settings` |

### לוגיקת הדף

1. שליפת ילדים של ההורה מ-`children`
2. אם יש יותר מילד אחד -- הצגת טאבים לבחירת ילד
3. שליפת `settings` עבור הילד הנבחר (`child_id`)
4. אם אין רשומת settings -- שימוש בברירות מחדל (threshold=70, trigger_words=true, unknown_contacts=true, monitoring=true)
5. עדכון ב-`upsert` בעת שינוי כל הגדרה, עם toast success/error

### עיצוב

אותו סגנון כמו שאר ההגדרות: כרטיסיות עם `bg-card border-border/50`, RTL, אייקונים מ-lucide, מתגי Switch עטופים ב-`dir="ltr"`.
